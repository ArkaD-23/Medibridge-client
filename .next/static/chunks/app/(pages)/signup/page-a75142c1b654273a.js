(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[499],{1600:(e,t,n)=>{"use strict";n.d(t,{default:()=>m});var a=n(5155),l=n(7287),r=n(3751),i=n(1220),o=n(8593),s=n(859),c=n(3517),u=n(6707),h=n(6874),d=n.n(h),g=n(5695),f=n(2115);function m(){let e=(0,g.useRouter)(),[t,n]=(0,f.useState)(""),[h,m]=(0,f.useState)(""),[p,v]=(0,f.useState)(""),[x,y]=(0,f.useState)(""),[S,j]=(0,f.useState)("PATIENT"),[w,b]=(0,f.useState)(!1),C=async()=>{if(p!==x)return void alert("Passwords do not match!");b(!0);try{let n=await fetch("http://gateway:8090/v1/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fullname:t,email:h,password:p,role:S})});if(!n.ok)throw Error("Signup failed");let a=await n.json();console.log("âœ… Signup Response:",a),a.status?(alert("Account created! Please login."),e.push("/signin")):alert("Signup failed")}catch(e){console.error(e),alert("Error while signing up")}finally{b(!1)}};return(0,a.jsx)("div",{style:{backgroundColor:"#f9fafb",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,a.jsxs)(l.t,{radius:"md",p:"xl",shadow:"md",style:{width:400},children:[(0,a.jsx)(r.h,{order:2,align:"center",mb:"lg",children:"Sign Up"}),(0,a.jsxs)(i.B,{children:[(0,a.jsx)(o.k,{label:"Full Name",placeholder:"John Doe",required:!0,value:t,onChange:e=>n(e.currentTarget.value)}),(0,a.jsx)(o.k,{label:"Email",placeholder:"you@example.com",required:!0,value:h,onChange:e=>m(e.currentTarget.value)}),(0,a.jsx)(s.y,{label:"Password",placeholder:"Create a password",required:!0,value:p,onChange:e=>v(e.currentTarget.value)}),(0,a.jsx)(s.y,{label:"Confirm Password",placeholder:"Confirm your password",required:!0,value:x,onChange:e=>y(e.currentTarget.value)}),(0,a.jsx)(c.l,{label:"Role",placeholder:"Select your role",data:[{value:"PATIENT",label:"Patient"},{value:"DOCTOR",label:"Doctor"}],value:S,onChange:e=>j(e||"PATIENT"),required:!0}),(0,a.jsx)(u.$,{fullWidth:!0,color:"#1e40af",loading:w,onClick:C,children:"Sign Up"}),(0,a.jsxs)("p",{children:["Already have an account?"," ",(0,a.jsx)(d(),{href:"/signin",children:(0,a.jsx)("span",{style:{color:"#1e40af"},children:"Signin"})})]})]})]})})}},3751:(e,t,n)=>{"use strict";n.d(t,{h:()=>m});var a=n(5155);n(2115);var l=n(8918),r=n(3664),i=n(862),o=n(311),s=n(6960),c=n(5903);let u=["h1","h2","h3","h4","h5","h6"],h=["xs","sm","md","lg","xl"];var d={root:"m_8a5d1357"};let g={order:1},f=(0,l.V)((e,t)=>{let{order:n,size:a,lineClamp:l,textWrap:r}=t,i=function(e,t){let n=void 0!==t?t:"h".concat(e);return u.includes(n)?{fontSize:"var(--mantine-".concat(n,"-font-size)"),fontWeight:"var(--mantine-".concat(n,"-font-weight)"),lineHeight:"var(--mantine-".concat(n,"-line-height)")}:h.includes(n)?{fontSize:"var(--mantine-font-size-".concat(n,")"),fontWeight:"var(--mantine-h".concat(e,"-font-weight)"),lineHeight:"var(--mantine-h".concat(e,"-line-height)")}:{fontSize:(0,c.D)(n),fontWeight:"var(--mantine-h".concat(e,"-font-weight)"),lineHeight:"var(--mantine-h".concat(e,"-line-height)")}}(n||1,a);return{root:{"--title-fw":i.fontWeight,"--title-lh":i.lineHeight,"--title-fz":i.fontSize,"--title-line-clamp":"number"==typeof l?l.toString():void 0,"--title-text-wrap":r}}}),m=(0,s.P9)((e,t)=>{let n=(0,r.Y)("Title",g,e),{classNames:l,className:s,style:c,styles:u,unstyled:h,order:m,vars:p,size:v,variant:x,lineClamp:y,textWrap:S,mod:j,attributes:w,...b}=n,C=(0,i.I)({name:"Title",props:n,classes:d,className:s,style:c,classNames:l,styles:u,unstyled:h,attributes:w,vars:p,varsResolver:f});return[1,2,3,4,5,6].includes(m)?(0,a.jsx)(o.a,{...C("root"),component:"h".concat(m),variant:x,ref:t,mod:[{order:m,"data-line-clamp":"number"==typeof y},j],size:v,...b}):null});m.classes=d,m.displayName="@mantine/core/Title"},5213:(e,t,n)=>{Promise.resolve().then(n.bind(n,1600)),Promise.resolve().then(n.bind(n,9942))},5695:(e,t,n)=>{"use strict";var a=n(8999);n.o(a,"useRouter")&&n.d(t,{useRouter:function(){return a.useRouter}})},9942:(e,t,n)=>{"use strict";n.d(t,{default:()=>o});var a=n(5155),l=n(2115),r=n(5695),i=n(3347);function o(e){let{children:t}=e,n=(0,r.useRouter)(),[o,s]=(0,l.useState)(!0),[c,u]=(0,l.useState)(!1);return((0,l.useEffect)(()=>{localStorage.getItem("token")&&(n.replace("/"),u(!0)),s(!1)},[n]),o)?(0,a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,a.jsx)(i.a,{size:"lg",color:"#1e40af"})}):c?null:(0,a.jsx)(a.Fragment,{children:t})}}},e=>{e.O(0,[545,21,563,470,411,874,517,43,441,964,358],()=>e(e.s=5213)),_N_E=e.O()}]);