(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[165],{30:(e,t,o)=>{"use strict";o.d(t,{default:()=>x});var s=o(5155),r=o(8304),n=o(3527),a=o(7287),i=o(3751),l=o(1220),d=o(8593),c=o(859),u=o(6707),h=o(6874),f=o.n(h),v=o(5695),m=o(2115),g=o(4540);function x(){(0,v.useRouter)();let[e,t]=(0,m.useState)(""),[o,h]=(0,m.useState)(""),[x,p]=(0,m.useState)(!1),[y,j]=(0,m.useState)(""),C=(0,g.wA)(),w=async()=>{p(!0),j("");try{let t=await fetch("http://gateway:8090/v1/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:o})});if(!t.ok)throw Error("Login failed");let s=await t.json();console.log("âœ… Login Response:",s),C((0,r.im)(e,s.token)),localStorage.setItem("token",s.token),!0===s.success?window.location.href="/":j("Please give correct credentials !")}catch(e){console.error(e),j("Invalid email or password")}finally{p(!1)}};return(0,s.jsxs)(s.Fragment,{children:[y&&(0,s.jsx)("div",{style:{position:"fixed",bottom:20,right:20,maxWidth:"350px",zIndex:2e3},children:(0,s.jsx)(n.E,{color:"red",title:"Login Failed",withCloseButton:!0,onClose:()=>j(null),children:y})}),(0,s.jsx)("div",{style:{backgroundColor:"#f9fafb",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,s.jsxs)(a.t,{radius:"md",p:"xl",shadow:"md",style:{width:400},children:[(0,s.jsx)(i.h,{order:2,align:"center",mb:"lg",children:"Sign In"}),(0,s.jsxs)(l.B,{children:[(0,s.jsx)(d.k,{label:"Email",placeholder:"you@example.com",required:!0,value:e,onChange:e=>t(e.currentTarget.value)}),(0,s.jsx)(c.y,{label:"Password",placeholder:"Enter your password",required:!0,value:o,onChange:e=>h(e.currentTarget.value)}),(0,s.jsx)(u.$,{fullWidth:!0,color:"#1e40af",loading:x,onClick:w,children:"Sign In"}),(0,s.jsxs)("p",{children:["Do not have an account?"," ",(0,s.jsx)(f(),{href:"/signup",children:(0,s.jsx)("span",{style:{color:"#1e40af"},children:"Signup"})})]})]})]})})]})}},1220:(e,t,o)=>{"use strict";o.d(t,{B:()=>f});var s=o(5155);o(2115);var r=o(6204),n=o(8918),a=o(3664),i=o(862),l=o(311),d=o(6960),c={root:"m_6d731127"};let u={gap:"md",align:"stretch",justify:"flex-start"},h=(0,n.V)((e,t)=>{let{gap:o,align:s,justify:n}=t;return{root:{"--stack-gap":(0,r.GY)(o),"--stack-align":s,"--stack-justify":n}}}),f=(0,d.P9)((e,t)=>{let o=(0,a.Y)("Stack",u,e),{classNames:r,className:n,style:d,styles:f,unstyled:v,vars:m,align:g,justify:x,gap:p,variant:y,attributes:j,...C}=o,w=(0,i.I)({name:"Stack",props:o,classes:c,className:n,style:d,classNames:r,styles:f,unstyled:v,attributes:j,vars:m,varsResolver:h});return(0,s.jsx)(l.a,{ref:t,...w("root"),variant:y,...C})});f.classes=c,f.displayName="@mantine/core/Stack"},1513:(e,t,o)=>{"use strict";o.d(t,{B:()=>a});var s=o(2115),r=o(3141);let n=s["useId".toString()]||(()=>void 0);function a(e){let t=function(){let e=n();return e?"mantine-".concat(e.replace(/:/g,"")):""}(),[o,a]=(0,s.useState)(t);return((0,r.o)(()=>{a(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mantine-";return"".concat(e).concat(Math.random().toString(36).slice(2,11))}())},[]),"string"==typeof e)?e:"undefined"==typeof window?t:o}},3141:(e,t,o)=>{"use strict";o.d(t,{o:()=>r});var s=o(2115);let r="undefined"!=typeof document?s.useLayoutEffect:s.useEffect},3527:(e,t,o)=>{"use strict";o.d(t,{E:()=>g});var s=o(5155);o(2115);var r=o(6204),n=o(8918),a=o(1180),i=o(3664),l=o(862),d=o(311),c=o(6960),u=o(5863),h=o(3347),f={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};let v={withCloseButton:!0},m=(0,n.V)((e,t)=>{let{radius:o,color:s}=t;return{root:{"--notification-radius":void 0===o?void 0:(0,r.nJ)(o),"--notification-color":s?(0,a.r)(s,e):void 0}}}),g=(0,c.P9)((e,t)=>{let o=(0,i.Y)("Notification",v,e),{className:r,color:n,radius:a,loading:c,withCloseButton:g,withBorder:x,title:p,icon:y,children:j,onClose:C,closeButtonProps:w,classNames:b,style:S,styles:k,unstyled:_,variant:N,vars:I,mod:E,loaderProps:L,role:B,attributes:z,...P}=o,R=(0,l.I)({name:"Notification",classes:f,props:o,className:r,style:S,classNames:b,styles:k,unstyled:_,attributes:z,vars:I,varsResolver:m});return(0,s.jsxs)(d.a,{...R("root"),mod:[{"data-with-icon":!!y||c,"data-with-border":x},E],ref:t,variant:N,role:B||"alert",...P,children:[y&&!c&&(0,s.jsx)("div",{...R("icon"),children:y}),c&&(0,s.jsx)(h.a,{size:28,color:n,...L,...R("loader")}),(0,s.jsxs)("div",{...R("body"),children:[p&&(0,s.jsx)("div",{...R("title"),children:p}),(0,s.jsx)(d.a,{...R("description"),mod:{"data-with-title":!!p},children:j})]}),g&&(0,s.jsx)(u.J,{iconSize:16,color:"gray",...w,unstyled:_,onClick:C,...R("closeButton")})]})});g.classes=f,g.displayName="@mantine/core/Notification"},5863:(e,t,o)=>{"use strict";o.d(t,{J:()=>g});var s=o(5155),r=o(5903),n=o(2115),a=o(6204),i=o(8918),l=o(3664),d=o(862),c=o(4511),u=o(3608);let h=(0,n.forwardRef)((e,t)=>{let{size:o="var(--cb-icon-size, 70%)",style:r,...n}=e;return(0,s.jsx)("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...r,width:o,height:o},ref:t,...n,children:(0,s.jsx)("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});h.displayName="@mantine/core/CloseIcon";var f={root:"m_86a44da5","root--subtle":"m_220c80f2"};let v={variant:"subtle"},m=(0,i.V)((e,t)=>{let{size:o,radius:s,iconSize:n}=t;return{root:{"--cb-size":(0,a.YC)(o,"cb-size"),"--cb-radius":void 0===s?void 0:(0,a.nJ)(s),"--cb-icon-size":(0,r.D)(n)}}}),g=(0,c.v)((e,t)=>{let o=(0,l.Y)("CloseButton",v,e),{iconSize:r,children:n,vars:a,radius:i,className:c,classNames:g,style:x,styles:p,unstyled:y,"data-disabled":j,disabled:C,variant:w,icon:b,mod:S,attributes:k,__staticSelector:_,...N}=o,I=(0,d.I)({name:_||"CloseButton",props:o,className:c,style:x,classes:f,classNames:g,styles:p,unstyled:y,attributes:k,vars:a,varsResolver:m});return(0,s.jsxs)(u.N,{ref:t,...N,unstyled:y,variant:w,disabled:C,mod:[{disabled:C||j},S],...I("root",{variant:w,active:!C&&!j}),children:[b||(0,s.jsx)(h,{}),n]})});g.classes=f,g.displayName="@mantine/core/CloseButton"},6028:(e,t,o)=>{"use strict";o.d(t,{Y:()=>a}),o(2115),o(5155);var s=o(3131),r=o(9787),n=o(4092);function a(e){let{classNames:t,styles:o,props:a,stylesCtx:i}=e,l=(0,s.xd)();return{resolvedClassNames:(0,r.J)({theme:l,classNames:t,props:a,stylesCtx:i||void 0}),resolvedStyles:(0,n.N)({theme:l,styles:o,props:a,stylesCtx:i||void 0})}}},6467:(e,t,o)=>{Promise.resolve().then(o.bind(o,30)),Promise.resolve().then(o.bind(o,9942))},7449:(e,t,o)=>{"use strict";o.d(t,{e:()=>n});var s=o(5155),r=o(2115);function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=(0,r.createContext)(e);return[e=>{let{children:o,value:r}=e;return(0,s.jsx)(t.Provider,{value:r,children:o})},()=>(0,r.useContext)(t)]}},7613:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});var s=o(2115);function r(e){let{value:t,defaultValue:o,finalValue:r,onChange:n=()=>{}}=e,[a,i]=(0,s.useState)(void 0!==o?o:r);return void 0!==t?[t,n,!0]:[a,function(e){for(var t=arguments.length,o=Array(t>1?t-1:0),s=1;s<t;s++)o[s-1]=arguments[s];i(e),null==n||n(e,...o)},!1]}},8304:(e,t,o)=>{"use strict";o.d(t,{Ay:()=>n,im:()=>r});var s=o(1990);let r=(0,s.zD)("user/get",async e=>{let{email:t,token:o}=e,s=await fetch("http://gateway:8090/v1/users/".concat(t,"/").concat(o),{method:"GET",headers:{"Content-Type":"application/json"}}),r=await s.json();return console.log("Profile response",r),r}),n=(0,s.Z0)({name:"user",initialState:{data:{},status:"idle",error:null},reducers:{},extraReducers(e){e.addCase(r.pending,e=>{e.status="loading"}).addCase(r.fulfilled,(e,t)=>{e.status="succeeded",e.data=t.payload}).addCase(r.rejected,(e,t)=>{e.status="failed",e.error=t.error.message})}}).reducer},9942:(e,t,o)=>{"use strict";o.d(t,{default:()=>i});var s=o(5155),r=o(2115),n=o(5695),a=o(3347);function i(e){let{children:t}=e,o=(0,n.useRouter)(),[i,l]=(0,r.useState)(!0),[d,c]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{localStorage.getItem("token")&&(o.replace("/"),c(!0)),l(!1)},[o]),i)?(0,s.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,s.jsx)(a.a,{size:"lg",color:"#1e40af"})}):d?null:(0,s.jsx)(s.Fragment,{children:t})}}},e=>{e.O(0,[21,30,470,990,874,43,441,964,358],()=>e(e.s=6467)),_N_E=e.O()}]);